{% extends 'base.html' %}
{% load static %}

{% block head %}
<link rel="stylesheet" href="{% static 'css/user/profile.css' %}">
{% endblock %}

{% block content %}
<div class="profile-container">
  <h1>Welcome back,<span> {{ user.first_name|default:user.username }} </span>  </h1>
  <p class="intro-line">Here’s your WellNest space for reflection, growth, and gentle progress.</p>

  <div class="dashboard-grid">

    <a href="{% url 'habit-index' %}" class="dashboard-card">
      <img src="{% static 'images/habitLogo.png' %}" alt="Habits">
      <h2>Habits</h2>
      <p>Track daily goals and routines</p>
    </a>

    <a href="{% url 'reflection-index' %}" class="dashboard-card">
      <img src="{% static 'images/journalLogo.png' %}" alt="Reflections">
      <h2>Reflections</h2>
      <p>Write and revisit journal entries</p>
    </a>

    <a href="{% url 'mood-index' %}" class="dashboard-card">
      <img src="{% static 'images/moodsLogo.png' %}" alt="Mood Tracker">
      <h2>Mood</h2>
      <p>See how you’re feeling over time</p>
    </a>
    </div>
    </div>
      <div class="profile-actions-wrapper">
        <a href="{% url 'edit_profile' %}" class="profile-button edit">Edit Profile</a>
        <a href="{% url 'delete_profile' %}" class="profile-button delete">Delete Profile</a>
      </div>
      <section class="saved-recipes">
        <h2>Saved Recipes</h2>
        <a href="{% url 'headspace-recipes' %}" class="btn add-recipe-btn">Add a Recipe</a>
        {% if saved_recipes %}
          <div class="recipe-grid">
            {% for recipe in saved_recipes %}
              <div class="recipe-card-wrapper">
                <a href="{{ recipe.link }}" target="_blank" class="recipe-card">
                  <img src="{% static recipe.image %}" alt="{{ recipe.title }}">
                  <h3>{{ recipe.title }}</h3>
                </a>
      
                <!-- Delete Button -->
                <form method="POST" action="{% url 'delete-recipe' recipe.id %}">
                  {% csrf_token %}
                  <button type="submit" class="btn delete-btn">Delete</button>
                </form>
              </div>
            {% endfor %}
          </div>
        {% else %}
          <p class="no-saved-msg">You haven’t saved any recipes yet.</p>
        {% endif %}
      </section>
{% endblock %}